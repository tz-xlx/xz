{"remainingRequest":"D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\src\\components\\xmds\\Newlist.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\src\\components\\xmds\\Newlist.vue","mtime":1575877486826},{"path":"D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      origin: \"\",\n      //出发地\n      destination: \"\",\n      //目的地\n      startdate: \"\",\n      //开始时间\n      enddate: \"\",\n      //结束时间\n      start: \"上午\",\n      //上午or下午\n      end: \"下午\",\n      //上午or下午\n      expense: \"\",\n      //费用\n      cause: \"\",\n      //原因\n      uname: \"\",\n      //工号\n      user_name: \"\",\n      //姓名\n      department: \"\",\n      //部门\n      d_charge: \"\" //直接主管\n\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.axios.get('enternewlist').then(function (res) {\n      //console.log(res.data)\n      var _res$data$ = res.data[0],\n          uname = _res$data$.uname,\n          user_name = _res$data$.user_name,\n          department = _res$data$.department,\n          d_charge = _res$data$.d_charge;\n      _this.uname = uname;\n      _this.user_name = user_name;\n      _this.department = department;\n      _this.d_charge = d_charge;\n    }).catch(function (err) {\n      console.log(err);\n    });\n  },\n  methods: {\n    fh: function fh() {\n      this.$router.go(-1);\n    },\n    submit: function submit(s) {\n      var _this2 = this;\n\n      var origin = this.origin; //出发地\n\n      var destination = this.destination; //目的地\n\n      var startdate = this.startdate; //开始时间\n\n      var enddate = this.enddate; //结束时间\n\n      var start = this.start; //上午or下午\n\n      var end = this.end; //上午or下午\n\n      var expense = this.expense; //费用\n\n      var cause = this.cause;\n      var s = s;\n      var d_charge = this.d_charge;\n      var uname = this.uname;\n      var user_name = this.user_name; //非空验证\n\n      if (!origin) {\n        this.$toast(\"出发地不能为空\");\n        return;\n      }\n\n      if (!destination) {\n        this.$toast(\"目的地不能为空\");\n        return;\n      }\n\n      if (!startdate) {\n        this.$toast(\"开始时间不能为空\");\n        return;\n      }\n\n      if (!enddate) {\n        this.$toast(\"结束时间不能为空\");\n        return;\n      }\n\n      if (!expense) {\n        this.$toast(\"费用预估不能为空\");\n        return;\n      }\n\n      if (!cause) {\n        this.$toast(\"申请事由不能为空\");\n        return;\n      }\n\n      if (new Date(enddate).getTime() < new Date(startdate).getTime()) {\n        this.$toast(\"结束日期不能小于开始日期\");\n        return;\n      }\n\n      if (new Date(enddate).getTime() == new Date(startdate).getTime() && start == \"下午\" && end == \"上午\") {\n        this.$toast(\"结束日期不能小于开始日期\");\n        return;\n      }\n\n      var params = {\n        origin: origin,\n        destination: destination,\n        startdate: startdate,\n        enddate: enddate,\n        start: start,\n        end: end,\n        expense: expense,\n        cause: cause,\n        s: s,\n        d_charge: d_charge,\n        uname: uname,\n        user_name: user_name\n      };\n      this.axios.get('newlist', {\n        params: params\n      }).then(function (res) {\n        // console.log(res)\n        if (res.data.code == 1) {\n          if (s == 1) {\n            _this2.$toast(\"提交成功\");\n\n            _this2.$router.push(\"/Schedule\");\n          } else {\n            _this2.$toast(\"保存成功\");\n\n            _this2.$router.push(\"/Schedule\");\n          }\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }\n};",{"version":3,"sources":["Newlist.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"title\">\r\n            <button @click=\"fh\">\r\n                <img src=\"http://127.0.0.1:3030/fh.png\">\r\n            </button>\r\n            <div></div>\r\n            <span>新建-出差申请单</span>\r\n        </div>\r\n        <div class=\"user\">\r\n            <div>\r\n                <span>工 号:</span>\r\n                <span>{{uname}}</span>\r\n            </div>\r\n            <div>\r\n                <span>姓 名:</span>\r\n                <span>{{user_name}}</span>\r\n            </div>\r\n            <div>\r\n                <span>部 门:</span>\r\n                <span>{{department}}</span>\r\n            </div>\r\n            <div>\r\n                <span>直接主管:</span>\r\n                <span>{{d_charge}}</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"list\">\r\n            <!-- <div>行程明细:</div> -->\r\n            <div class=\"d-flex\">\r\n                <div class=\"dw\"><span>*</span>出发城市:</div>\r\n                <input type=\"text\" v-model=\"origin\"> \r\n            </div>\r\n            <div class=\"d-flex\">\r\n                <div class=\"dw\"><span>*</span>目的城市:</div> \r\n                <input type=\"text\" v-model=\"destination\">\r\n            </div>\r\n            <div class=\"d-flex\">\r\n                <div class=\"dw\"><span>*</span>开始时间:</div>\r\n                <div class=\"date\">\r\n                <input type=\"date\" v-model=\"startdate\"> \r\n                <select name=\"starttime\" id=\"s1\" v-model=\"start\">\r\n                    <option value=\"上午\">上午</option>\r\n                    <option value=\"下午\">下午</option>\r\n                </select>\r\n                </div>  \r\n            </div>\r\n            <div class=\"d-flex\">\r\n                <div class=\"dw\"><span>*</span>结束时间:</div>\r\n                <div class=\"date\">\r\n                <input type=\"date\" v-model=\"enddate\">\r\n                <select name=\"endtime\" id=\"s2\" v-model=\"end\">\r\n                    <option value=\"上午\">上午</option>\r\n                    <option value=\"下午\">下午</option>\r\n                </select>\r\n                </div>    \r\n            </div>\r\n            <div class=\"d-flex\">\r\n                <div class=\"dw\"><span>*</span>费用预估:</div>               \r\n                <input type=\"text\" v-model=\"expense\">\r\n            </div>\r\n            <div class=\"d-flex\">\r\n                <div class=\"dw\"><span>*</span>出差事由:</div>\r\n                <textarea name=\"t1\" id=\"t1\" cols=\"30\" rows=\"10\" v-model=\"cause\"></textarea>\r\n            </div>    \r\n        </div>\r\n        <div class=\"btns\">\r\n            <button @click=\"submit(1)\">提 交</button>\r\n            <button @click=\"submit(0)\">暂 存</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            origin:\"\",          //出发地\r\n            destination:\"\",     //目的地\r\n            startdate:\"\",       //开始时间\r\n            enddate:\"\",         //结束时间\r\n            start:\"上午\",           //上午or下午\r\n            end:\"下午\",             //上午or下午\r\n            expense:\"\",         //费用\r\n            cause:\"\" ,           //原因\r\n            uname:\"\", //工号\r\n            user_name:\"\",  //姓名\r\n            department:\"\", //部门\r\n            d_charge:\"\", //直接主管\r\n        }\r\n    },\r\n    created(){\r\n        this.axios.get('enternewlist').then(res=>{\r\n            //console.log(res.data)\r\n            var {uname,user_name,department,d_charge}=res.data[0]\r\n            this.uname=uname;\r\n            this.user_name=user_name;\r\n            this.department=department;\r\n            this.d_charge=d_charge;\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    },\r\n    methods: {\r\n        fh(){\r\n            this.$router.go(-1);\r\n        },\r\n      submit(s){\r\n            var origin=this.origin;          //出发地\r\n            var destination=this.destination;   //目的地\r\n            var startdate=this.startdate;     //开始时间\r\n            var enddate=this.enddate;        //结束时间\r\n            var start=this.start;         //上午or下午\r\n            var end=this.end;            //上午or下午\r\n            var expense=this.expense;        //费用\r\n            var cause=this.cause;\r\n            var s=s;\r\n            var d_charge=this.d_charge;\r\n            var uname=this.uname;\r\n            var user_name=this.user_name;\r\n            //非空验证\r\n            if(!origin){\r\n                this.$toast(\"出发地不能为空\")\r\n                return;\r\n            }\r\n            if(!destination){\r\n                this.$toast(\"目的地不能为空\")\r\n                return;\r\n            }\r\n            if(!startdate){\r\n                this.$toast(\"开始时间不能为空\")\r\n                return;\r\n            }\r\n             if(!enddate){\r\n                this.$toast(\"结束时间不能为空\")\r\n                return;\r\n            }\r\n            if(!expense){\r\n                this.$toast(\"费用预估不能为空\")\r\n                return;\r\n            }\r\n            if(!cause){\r\n                this.$toast(\"申请事由不能为空\")\r\n                return;\r\n            }\r\n            if(new Date(enddate).getTime()<new Date(startdate).getTime()){\r\n                this.$toast(\"结束日期不能小于开始日期\")\r\n                return;\r\n            }\r\n            if(new Date(enddate).getTime()==new Date(startdate).getTime()&&start==\"下午\"&&end==\"上午\"){\r\n                this.$toast(\"结束日期不能小于开始日期\")\r\n                return;\r\n            }\r\n            var params={origin,destination,startdate,enddate,start,end,expense,cause,s,d_charge,uname,user_name};\r\n            this.axios.get('newlist',{params}).then(res=>{\r\n                // console.log(res)\r\n                if(res.data.code==1){\r\n                    if(s==1){\r\n                        this.$toast(\"提交成功\");\r\n                        this.$router.push(\"/Schedule\")\r\n                    }else{\r\n                        this.$toast(\"保存成功\");\r\n                        this.$router.push(\"/Schedule\")\r\n                    }\r\n                }\r\n            }).catch(err=>{\r\n                console.log(err)\r\n            })      \r\n      }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    .title{\r\n        width:100%;\r\n        height:58px;\r\n        background:#3f80fe;\r\n        color:#fff;\r\n        text-align: center;\r\n        line-height: 58px;\r\n        font-size: 18px;\r\n        letter-spacing: 3px;\r\n        display: flex;\r\n    }\r\n    .title button{\r\n        background: transparent;\r\n        border:0;\r\n        outline:0;\r\n        width:20%;\r\n    }\r\n    .title div{\r\n        width:13%;\r\n    }\r\n    .title img{\r\n        width:22px;\r\n    }\r\n    .d-flex{\r\n        display: flex;\r\n        margin-top:10px;\r\n        justify-content:space-around;\r\n        /* width: 100% */\r\n    }\r\n    .list{\r\n        padding:8px 28px;\r\n    }\r\n    .d-flex span{\r\n        color:#f00;\r\n    }\r\n    .dw{\r\n        width:25%;\r\n        height:36px;\r\n        line-height: 30px;\r\n        color:#666;\r\n    }\r\n    .dw+input,.date input{\r\n        width:70%;\r\n        height:30px;\r\n    }\r\n    .date{\r\n        width:70%;\r\n        height:36px;\r\n        line-height:36px;\r\n    }\r\n    .date select{\r\n        width:27.7%;\r\n        height:34px;\r\n        border-left: 0;\r\n    }\r\n    textarea{\r\n        width:70%;\r\n        height:60px;\r\n    }\r\n    .user,.btns{\r\n        padding:6px 28px;\r\n    }\r\n    .user div{\r\n        margin-top:10px;\r\n        color:#666;\r\n        font-size:15px;\r\n    }\r\n    .user span{\r\n        display: inline-block;   \r\n    }\r\n    .user div span:first-child{\r\n        width:25%;\r\n        text-align: center;\r\n        \r\n    }\r\n    .user div span:last-child{\r\n        width:70%;\r\n        padding-left:10px;\r\n    }\r\n    .btns button{\r\n        width:28%;\r\n        height:36px;\r\n        border-radius: 30px;\r\n        border:0;\r\n        outline:0;\r\n        color:#fff;\r\n        background:#3f80fe;\r\n    }\r\n    .btns{\r\n        text-align: center;\r\n        margin-top:10px;\r\n    }\r\n    .btns button+button{\r\n        margin-left:20px;\r\n    }\r\n    input.bigsrk{\r\n        height:60px;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src\\components\\xmds"}]}