{"remainingRequest":"D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\src\\components\\xmds\\Submit.vue?vue&type=style&index=0&id=4f0d8110&scoped=true&lang=css","dependencies":[{"path":"D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\src\\components\\xmds\\Submit.vue","mtime":1575027966151},{"path":"D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"D:\\xm\\xmdsai\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.title{\n    width:100%;\n    height:58px;\n    background:#3f80fe;\n    color:#fff;\n    text-align: center;\n    line-height: 58px;\n    font-size: 18px;\n    letter-spacing: 3px;\n    display: flex;\n}\n.title button{\n    background: transparent;\n    border:0;\n    outline:0;\n    width:20%;\n}\n.title div{\n    width:13%;\n}\n.title img{\n    width:22px;\n}\n.d-flex{\n    display: flex;\n    margin-top:10px;\n    justify-content:space-around;\n}\n.list{\n    padding:8px 28px;\n}\n.d-flex span{\n    color:#f00;\n}\n.dw{\n    width:25%;\n    height:36px;\n    line-height: 30px;\n    color:#666;\n}\n.dw+input,.date input{\n    width:70%;\n    height:30px;\n}\n.date{\n    width:70%;\n    height:36px;\n    line-height:36px;\n}\n.date select{\n    width:27.7%;\n    height:34px;\n    border-left: 0;\n}\ntextarea{\n    width:70%;\n    height:60px;\n}\n.user,.btns{\n    padding:6px 28px;\n}\n.user div{\n    margin-top:10px;\n    color:#666;\n    font-size:15px;\n}\n.user span{\n    display: inline-block;   \n}\n.user div span:first-child{\n    width:25%;\n    text-align: center;\n    \n}\n.user div span:last-child{\n    width:70%;\n    padding-left:10px;\n}\n.btns button{\n    width:28%;\n    height:36px;\n    border-radius: 30px;\n    border:0;\n    outline:0;\n    color:#fff;\n    background:#3f80fe;\n}\n.btns{\n    text-align: center;\n    margin-top:10px;\n}\n.btns button+button{\n    margin-left:20px;\n}\ninput.bigsrk{\n    height:60px;\n}\n",{"version":3,"sources":["Submit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Submit.vue","sourceRoot":"src\\components\\xmds","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"title\">\r\n            <button @click=\"fh\">\r\n                <img src=\"../../assets/fh.png\">\r\n            </button>\r\n            <div></div>\r\n            <span>新建-出差申请单</span>\r\n        </div>\r\n        <div class=\"user\">\r\n            <div class=\"\">\r\n                <span>工 号:</span>\r\n                <span>{{uname}}</span>\r\n            </div>\r\n            <div>\r\n                <span>姓 名:</span>\r\n                <span>{{user_name}}</span>\r\n            </div>\r\n            <div>\r\n                <span>部 门:</span>\r\n                <span>{{department}}</span>\r\n            </div>\r\n            <div>\r\n                <span>直接主管:</span>\r\n                <span>{{d_charge}}</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"list\">\r\n            <!-- <div>行程明细:</div> -->\r\n            <div class=\"d-flex\">\r\n                <div class=\"dw\"><span>*</span>出发城市:</div>\r\n                <input type=\"text\" v-model=\"origin\"> \r\n            </div>\r\n            <div class=\"d-flex\">\r\n                <div class=\"dw\"><span>*</span>目的城市:</div> \r\n                <input type=\"text\" v-model=\"destination\">               \r\n            </div>\r\n            <div class=\"d-flex\">\r\n                <div class=\"dw\"><span>*</span>开始时间:</div>\r\n                <div class=\"date\">\r\n                <input type=\"date\" v-model=\"startdate\"> \r\n                <select name=\"starttime\" id=\"s1\" v-model=\"start\">\r\n                    <option value=\"上午\">上午</option>\r\n                    <option value=\"下午\">下午</option>\r\n                </select>\r\n                </div>  \r\n            </div>\r\n            <div class=\"d-flex\">\r\n                <div class=\"dw\"><span>*</span>结束时间:</div>\r\n                <div class=\"date\">\r\n                <input type=\"date\" v-model=\"enddate\">\r\n                <select name=\"endtime\" id=\"s2\" v-model=\"end\">\r\n                    <option value=\"上午\">上午</option>\r\n                    <option value=\"下午\">下午</option>\r\n                </select>\r\n                </div>    \r\n            </div>\r\n            <div class=\"d-flex\">\r\n                <div class=\"dw\"><span>*</span>费用预估:</div>               \r\n                <input type=\"text\" v-model=\"expense\">\r\n            </div>\r\n            <div class=\"d-flex\">\r\n                <div class=\"dw\"><span>*</span>出差事由:</div>\r\n                <textarea name=\"t1\" id=\"t1\" cols=\"30\" rows=\"10\" v-model=\"cause\"></textarea>\r\n            </div>\r\n        </div>\r\n        <div class=\"btns\">\r\n            <button @click=\"submit\">提 交</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            origin:\"\",          //出发地\r\n            destination:\"\",     //目的地\r\n            startdate:\"\",       //开始时间\r\n            enddate:\"\",         //结束时间\r\n            start:\"上午\",           //上午or下午\r\n            end:\"下午\",             //上午or下午\r\n            expense:\"\",         //费用\r\n            cause:\"\" ,           //原因\r\n            uname:\"\", //工号\r\n            user_name:\"\",  //姓名\r\n            department:\"\", //部门\r\n            d_charge:\"\", //直接主管\r\n            list:[]\r\n        }\r\n    },\r\n    props:[\"bid\"],\r\n    created(){\r\n        // console.log(this.bid)\r\n        this.axios.get('enternewlist').then(res=>{\r\n            //console.log(res.data)\r\n            var {uname,user_name,department,d_charge}=res.data[0]\r\n            this.uname=uname;\r\n            this.user_name=user_name;\r\n            this.department=department;\r\n            this.d_charge=d_charge;\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n        // 获取填写的内容\r\n        this.axios.get('modify',{params:{bid:this.bid}}).then(res=>{\r\n            // console.log(this.bid)\r\n            // console.log(res.data)\r\n            this.list=res.data[0]\r\n            // console.log(this.list)\r\n            this.origin=this.list.origin;\r\n            this.destination=this.list.destination;\r\n            this.startdate=this.list.startdate;\r\n            this.startdate=this.startdate.split(\" \")[0]\r\n            this.enddate=this.list.enddate;\r\n            this.enddate=this.enddate.split(\" \")[0]\r\n            this.expense=this.list.expense;\r\n            this.cause=this.list.remark;\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    },\r\n    methods: {\r\n        fh(){\r\n            this.$router.go(-1);\r\n        },\r\n        submit(){\r\n            var origin=this.origin;          //出发地\r\n            var destination=this.destination;   //目的地\r\n            var startdate=this.startdate;     //开始时间\r\n            var enddate=this.enddate;        //结束时间\r\n            var start=this.start;         //上午or下午\r\n            var end=this.end;            //上午or下午\r\n            var expense=this.expense;        //费用\r\n            var remark=this.cause;\r\n            var s=s;\r\n            var d_charge=this.d_charge;\r\n            var uname=this.uname;\r\n            var user_name=this.user_name;\r\n            var bid=this.bid;\r\n            //非空验证\r\n            if(!origin){\r\n                this.$toast(\"出发地不能为空\")\r\n                return;\r\n            }\r\n            if(!destination){\r\n                this.$toast(\"目的地不能为空\")\r\n                return;\r\n            }\r\n            if(!startdate){\r\n                this.$toast(\"开始时间不能为空\")\r\n                return;\r\n            }\r\n             if(!enddate){\r\n                this.$toast(\"结束时间不能为空\")\r\n                return;\r\n            }\r\n            if(!expense){\r\n                this.$toast(\"费用预估不能为空\")\r\n                return;\r\n            }\r\n            if(!remark){\r\n                this.$toast(\"申请事由不能为空\")\r\n                return;\r\n            }\r\n            if(new Date(enddate).getTime()<new Date(startdate).getTime()){\r\n                this.$toast(\"结束日期不能小于开始日期\")\r\n                return;\r\n            }\r\n            if(new Date(enddate).getTime()==new Date(startdate).getTime()&&start==\"下午\"&&end==\"上午\"){\r\n                this.$toast(\"结束日期不能小于开始日期\")\r\n                return;\r\n            }\r\n            var params={origin,destination,startdate,enddate,start,end,expense,remark,s,d_charge,uname,user_name,bid};\r\n            console.log(params)\r\n            this.axios.get('modifylist',{params:params}).then(res=>{\r\n                console.log(res)\r\n                if(res.data.code==1){   \r\n                    this.$toast(\"提交成功\");\r\n                    this.$router.push(\"/Schedule\")   \r\n                }\r\n            }).catch(err=>{\r\n                console.log(err)\r\n            })      \r\n      }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    .title{\r\n        width:100%;\r\n        height:58px;\r\n        background:#3f80fe;\r\n        color:#fff;\r\n        text-align: center;\r\n        line-height: 58px;\r\n        font-size: 18px;\r\n        letter-spacing: 3px;\r\n        display: flex;\r\n    }\r\n    .title button{\r\n        background: transparent;\r\n        border:0;\r\n        outline:0;\r\n        width:20%;\r\n    }\r\n    .title div{\r\n        width:13%;\r\n    }\r\n    .title img{\r\n        width:22px;\r\n    }\r\n    .d-flex{\r\n        display: flex;\r\n        margin-top:10px;\r\n        justify-content:space-around;\r\n    }\r\n    .list{\r\n        padding:8px 28px;\r\n    }\r\n    .d-flex span{\r\n        color:#f00;\r\n    }\r\n    .dw{\r\n        width:25%;\r\n        height:36px;\r\n        line-height: 30px;\r\n        color:#666;\r\n    }\r\n    .dw+input,.date input{\r\n        width:70%;\r\n        height:30px;\r\n    }\r\n    .date{\r\n        width:70%;\r\n        height:36px;\r\n        line-height:36px;\r\n    }\r\n    .date select{\r\n        width:27.7%;\r\n        height:34px;\r\n        border-left: 0;\r\n    }\r\n    textarea{\r\n        width:70%;\r\n        height:60px;\r\n    }\r\n    .user,.btns{\r\n        padding:6px 28px;\r\n    }\r\n    .user div{\r\n        margin-top:10px;\r\n        color:#666;\r\n        font-size:15px;\r\n    }\r\n    .user span{\r\n        display: inline-block;   \r\n    }\r\n    .user div span:first-child{\r\n        width:25%;\r\n        text-align: center;\r\n        \r\n    }\r\n    .user div span:last-child{\r\n        width:70%;\r\n        padding-left:10px;\r\n    }\r\n    .btns button{\r\n        width:28%;\r\n        height:36px;\r\n        border-radius: 30px;\r\n        border:0;\r\n        outline:0;\r\n        color:#fff;\r\n        background:#3f80fe;\r\n    }\r\n    .btns{\r\n        text-align: center;\r\n        margin-top:10px;\r\n    }\r\n    .btns button+button{\r\n        margin-left:20px;\r\n    }\r\n    input.bigsrk{\r\n        height:60px;\r\n    }\r\n</style>\r\n"]}]}